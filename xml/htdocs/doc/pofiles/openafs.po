# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR Free Software Foundation, Inc.
# This file is distributed under the same license as the PACKAGE package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"POT-Creation-Date: 2012-02-23 10:54+0900\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"Language: \n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"

#. type: Content of: <guide><title>
#: en/openafs.xml:7
#, no-wrap
msgid "Gentoo Linux OpenAFS Guide"
msgstr ""

#. type: Content of: <guide><abstract>
#: en/openafs.xml:29
#, no-wrap
msgid ""
"This guide shows you how to install an OpenAFS server and client on Gentoo\n"
"Linux.\n"
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:41
#, no-wrap
msgid "Overview"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:43
#, no-wrap
msgid "About this Document"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:47
#, no-wrap
msgid ""
"This document provides you with all necessary steps to install an OpenAFS\n"
"server on Gentoo Linux. Parts of this document are taken from the AFS FAQ and\n"
"IBM's Quick Beginnings guide on AFS. Well, never reinvent the wheel. :)\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:55
#, no-wrap
msgid "What is AFS?"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:59
#, no-wrap
msgid ""
"AFS is a distributed filesystem that enables co-operating hosts\n"
"(clients and servers) to efficiently share filesystem resources\n"
"across both local area and wide area networks. Clients hold a\n"
"cache for often used objects (files), to get quicker\n"
"access to them.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:67
#, no-wrap
msgid ""
"AFS is based on a distributed file system originally developed\n"
"at the Information Technology Center at Carnegie-Mellon University\n"
"that was called the \"Andrew File System\". \"Andrew\" was the name of the\n"
"research project at CMU - honouring the founders of the University.  Once\n"
"Transarc was formed and AFS became a product, the \"Andrew\" was dropped to\n"
"indicate that AFS had gone beyond the Andrew research project and had become\n"
"a supported, product quality filesystem. However, there were a number of\n"
"existing cells that rooted their filesystem as /afs. At the time, changing\n"
"the root of the filesystem was a non-trivial undertaking. So, to save the\n"
"early AFS sites from having to rename their filesystem, AFS remained as the\n"
"name and filesystem root.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:83
#, no-wrap
msgid "What is an AFS cell?"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:87
#, no-wrap
msgid ""
"An AFS cell is a collection of servers grouped together administratively and\n"
"presenting a single, cohesive filesystem.  Typically, an AFS cell is a set of\n"
"hosts that use the same Internet domain name (for example, gentoo.org) Users\n"
"log into AFS client workstations which request information and files from the\n"
"cell's servers on behalf of the users. Users won't know on which server a\n"
"file which they are accessing, is located. They even won't notice if a server\n"
"will be located to another room, since every volume can be replicated and\n"
"moved to another server without any user noticing. The files are always\n"
"accessible.  Well, it's like NFS on steroids :)\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:101
#, no-wrap
msgid "What are the benefits of using AFS?"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:105
#, no-wrap
msgid ""
"The main strengths of AFS are its:\n"
"caching facility (on client side, typically 100M to 1GB),\n"
"security features (Kerberos 4 based, access control lists),\n"
"simplicity of addressing (you just have one filesystem),\n"
"scalability (add further servers to your cell as needed),\n"
"communications protocol.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:116
#, no-wrap
msgid "Where can I get more information?"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:120
#, no-wrap
msgid ""
"Read the <uri link=\"http://www.angelfire.com/hi/plutonic/afs-faq.html\">AFS\n"
"FAQ</uri>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:125
#, no-wrap
msgid ""
"OpenAFS main page is at <uri\n"
"link=\"http://www.openafs.org\">www.openafs.org</uri>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:130
#, no-wrap
msgid ""
"AFS was originally developed by Transarc which is now owned by IBM. Since April\n"
"2005, it has been withdrawn from IBM's product catalogue.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:137
#, no-wrap
msgid "How Can I Debug Problems?"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:141
#, no-wrap
msgid ""
"OpenAFS has great logging facilities. However, by default it logs straight into\n"
"its own logs instead of through the system logging facilities you have on your\n"
"system. To have the servers log through your system logger, use the\n"
"<c>-syslog</c> option for all <c>bos</c> commands.\n"
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:152
#, no-wrap
msgid "Upgrading from previous versions"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:154
#, no-wrap
msgid "Introduction"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:158
#, no-wrap
msgid ""
"This section aims to help you through the process of upgrading an existing\n"
"OpenAFS installation to OpenAFS version 1.4.0 or higher (or 1.2.x starting from\n"
"1.2.13. The latter will not be handled specifically, as most people will want\n"
"1.4 for a.o. linux-2.6 support, large file support and bug fixes).\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:165
#, no-wrap
msgid ""
"If you're dealing with a clean install of a 1.4 version of OpenAFS, then you can\n"
"safely skip this chapter.  However, if you're upgrading from a previous version,\n"
"we strongly urge you to follow the guidelines in the next sections. The\n"
"transition script in the ebuild is designed to assist you in quickly upgrading\n"
"and restarting. Please note that it will (for safety reasons) not delete\n"
"configuration files and startup scripts in old places, not automatically change\n"
"your boot configuration to use the new scripts, etc. If you need further\n"
"convincing, using an old OpenAFS kernel module together with the updated system\n"
"binaries, may very well cause your kernel to freak out.  So, let's read on for a\n"
"clean and easy transition, shall we?\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:178
#, no-wrap
msgid ""
"This chapter has been written bearing many different system configurations in\n"
"mind.  Still, it is possible that due to peculiar tweaks a user has made, his or\n"
"her specific situation may not be described here. A user with enough\n"
"self-confidence to tweak his system should be experienced enough to apply the\n"
"given remarks where appropriate. Vice versa, a user that has done little\n"
"to his system but install the previous ebuild, can skip most of the warnings\n"
"further on.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:190
#, no-wrap
msgid "Differences to previous versions"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:194
#, no-wrap
msgid ""
"Traditionally, OpenAFS has used the same path-conventions that IBM TransArc labs\n"
"had used, before the code was forked.  Understandably, old AFS setups continue\n"
"using these legacy path conventions.  More recent setups conform with FHS by\n"
"using standard locations (as seen in many Linux distributions). The following\n"
"table is a compilation of the configure-script and the README accompanying the\n"
"OpenAFS distribution tarballs:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><th>
#: en/openafs.xml:204
#, no-wrap
msgid "Directory"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><th>
#: en/openafs.xml:205
#, no-wrap
msgid "Purpose"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><th>
#: en/openafs.xml:206
#, no-wrap
msgid "Transarc Mode"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><th>
#: en/openafs.xml:207
#, no-wrap
msgid "Default Mode"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><th>
#: en/openafs.xml:208
#, no-wrap
msgid "translation to Gentoo"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:211
#, no-wrap
msgid "viceetcdir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:212
#, no-wrap
msgid "Client configuration"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:213
#, no-wrap
msgid "/usr/vice/etc"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:214
#, no-wrap
msgid "$(sysconfdir)/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:215
#, no-wrap
msgid "/etc/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:218
#, no-wrap
msgid "unnamed"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:219
#, no-wrap
msgid "Client binaries"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:220
#, no-wrap
msgid "unspecified"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:221
#, no-wrap
msgid "$(bindir)"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:222
#, no-wrap
msgid "/usr/bin"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:225
#, no-wrap
msgid "afsconfdir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:226
#, no-wrap
msgid "Server configuration"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:227
#, no-wrap
msgid "/usr/afs/etc"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:228
#, no-wrap
msgid "$(sysconfdir)/openafs/server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:229
#, no-wrap
msgid "/etc/openafs/server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:232
#, no-wrap
msgid "afssrvdir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:233
#, no-wrap
msgid "Internal server binaries"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:234
#, no-wrap
msgid "/usr/afs/bin (servers)"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:235
#, no-wrap
msgid "$(libexecdir)/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:236
#, no-wrap
msgid "/usr/libexec/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:239
#, no-wrap
msgid "afslocaldir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:240
#, no-wrap
msgid "Server state"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:241
#, no-wrap
msgid "/usr/afs/local"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:242
#, no-wrap
msgid "$(localstatedir)/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:243
#, no-wrap
msgid "/var/lib/openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:246
#, no-wrap
msgid "afsdbdir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:247
#, no-wrap
msgid "Auth/serverlist/... databases"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:248
#, no-wrap
msgid "/usr/afs/db"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:249
#, no-wrap
msgid "$(localstatedir)/openafs/db"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:250
#, no-wrap
msgid "/var/lib/openafs/db"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:253
#, no-wrap
msgid "afslogdir"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:254
#, no-wrap
msgid "Log files"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:255
#, no-wrap
msgid "/usr/afs/logs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:256
#, no-wrap
msgid "$(localstatedir)/openafs/logs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:257
#, no-wrap
msgid "/var/lib/openafs/logs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:260
#, no-wrap
msgid "afsbosconfig"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:261
#, no-wrap
msgid "Overseer config"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:262
#, no-wrap
msgid "$(afslocaldir)/BosConfig"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:263
#, no-wrap
msgid "$(afsconfdir)/BosConfig"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:264
#, no-wrap
msgid "/etc/openafs/BosConfig"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:269
#, no-wrap
msgid ""
"There are some other oddities, like binaries being put in\n"
"<path>/usr/vice/etc</path> in Transarc mode, but this list is not intended\n"
"to be comprehensive.  It is rather meant to serve as a reference to those\n"
"troubleshooting config file transition.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:276
#, no-wrap
msgid ""
"Also as a result of the path changes, the default disk cache location has\n"
"been changed from <path>/usr/vice/cache</path> to\n"
"<path>/var/cache/openafs</path>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:282
#, no-wrap
msgid ""
"Furthermore, the init-script has been split into a client and a server part.\n"
"You used to have <path>/etc/init.d/afs</path>, but now you'll end up with both\n"
"<path>/etc/init.d/openafs-client</path> and\n"
"<path>/etc/init.d/openafs-server</path>.\n"
"Consequently, the configuration file <path>/etc/conf.d/afs</path> has been split\n"
"into <path>/etc/conf.d/openafs-client</path> and\n"
"<path>/etc/conf.d/openafs-server</path>.  Also, options in\n"
"<path>/etc/conf.d/afs</path> to turn either client or server on or off have\n"
"been obsoleted.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:294
#, no-wrap
msgid ""
"Another change to the init script is that it doesn't check your disk cache\n"
"setup anymore.  The old code required that a separate ext2 partition be\n"
"mounted at <path>/usr/vice/cache</path>.  There were some problems with that:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:301
#, no-wrap
msgid ""
"    Though it's a very logical setup, your cache doesn't need to be on a\n"
"    separate partition.  As long as you make sure that the amount of space\n"
"    specified in <path>/etc/openafs/cacheinfo</path> really is available\n"
"    for disk cache usage, you're safe.  So there is no real problem with\n"
"    having the cache on your root partition.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:308
#, no-wrap
msgid ""
"    Some people use soft-links to point to the real disk cache location.\n"
"    The init script didn't like this, because then this cache location\n"
"    didn't turn up in <path>/proc/mounts</path>.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:313
#, no-wrap
msgid ""
"    Many prefer ext3 over ext2 nowadays.  Both filesystems are valid for\n"
"    usage as a disk cache.  Any other filesystem is unsupported\n"
"    (like: don't try reiserfs, you'll get a huge warning, expect failure\n"
"    afterwards).\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:323
#, no-wrap
msgid "Transition to the new paths"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:327
#, no-wrap
msgid ""
"First of all, emerging a newer OpenAFS version should not overwrite any old\n"
"configuration files.  The script is designed to not change any files\n"
"already present on the system.  So even if you have a totally messed up\n"
"configuration with a mix of old and new locations, the script should not\n"
"cause further problems. Also, if a running OpenAFS server is detected, the\n"
"installation will abort, preventing possible database corruption.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:336
#, no-wrap
msgid ""
"One caveat though -- there have been ebuilds floating around the internet that\n"
"partially disable the protection that Gentoo puts on <path>/etc</path>. These\n"
"ebuilds have never been distributed by Gentoo. You might want to check the\n"
"<c>CONFIG_PROTECT_MASK</c> variable in the output of the following command:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:342
#, no-wrap
msgid "Checking your CONFIG_PROTECT_MASK"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:343
#, no-wrap
msgid ""
"# <i>emerge info | grep \"CONFIG_PROTECT_MASK\"</i>\n"
"CONFIG_PROTECT_MASK=\"/etc/gconf /etc/terminfo /etc/texmf/web2c /etc/env.d\"\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:348
#, no-wrap
msgid ""
"Though nothing in this ebuild would touch the files in <path>/etc/afs</path>,\n"
"upgrading will cause the removal of your older OpenAFS installation. Files in\n"
"<c>CONFIG_PROTECT_MASK</c> that belong to the older installation will be removed\n"
"as well.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:355
#, no-wrap
msgid ""
"It should be clear to the experienced user that in the case he has tweaked his\n"
"system by manually adding soft links (e.g. <path>/usr/afs/etc</path> to\n"
"<path>/etc/openafs</path>), the new installation may run fine while still using\n"
"the old configuration files. In this case, there has been no real transition,\n"
"and cleaning up the old installation will result in a broken OpenAFS config.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:363
#, no-wrap
msgid "Now that you know what doesn't happen, you may want to know what does:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:368
#, no-wrap
msgid ""
"    <path>/usr/afs/etc</path> is copied to <path>/etc/openafs/server</path>\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:371
#, no-wrap
msgid ""
"    <path>/usr/vice/etc</path> is copied to <path>/etc/openafs</path>\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:374
#, no-wrap
msgid ""
"    <path>/usr/afs/local</path> is copied to <path>/var/lib/openafs</path>\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:377
#, no-wrap
msgid ""
"    <path>/usr/afs/local/BosConfig</path> is copied to\n"
"    <path>/etc/openafs/BosConfig</path>, while replacing occurrences of\n"
"    <path>/usr/afs/bin/</path> with <path>/usr/libexec/openafs</path>,\n"
"    <path>/usr/afs/etc</path> with <path>/etc/openafs/server</path>\n"
"    and <path>/usr/afs/bin</path> (without the / as previously) with\n"
"    <path>/usr/bin</path>\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:385
#, no-wrap
msgid ""
"    <path>/usr/afs/db</path> is copied to <path>/var/lib/openafs/db</path>\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:388
#, no-wrap
msgid ""
"    The configuration file <path>/etc/conf.d/afs</path> is copied to\n"
"    <path>/etc/conf.d/openafs-client</path>, as all known old options were\n"
"    destined for client usage only.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:397
#, no-wrap
msgid "The upgrade itself"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:401
#, no-wrap
msgid ""
"So you haven't got an OpenAFS server setup? Or maybe you do, the previous\n"
"sections have informed you about what is going to happen, and you're still\n"
"ready for it?\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:407
#, no-wrap
msgid "Let's go ahead with it then!\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:411
#, no-wrap
msgid "If you do have a server running, you want to shut it down now.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:414
#, no-wrap
msgid "Stopping OpenAFS (in case you have a server)"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:415 en/openafs.xml:438
#, no-wrap
msgid "# <i>/etc/init.d/afs stop</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:419
#, no-wrap
msgid "And then the upgrade itself.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:422
#, no-wrap
msgid "Now upgrade!"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:423
#, no-wrap
msgid "# <i>emerge -u openafs</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:429
#, no-wrap
msgid "Restarting OpenAFS"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:433
#, no-wrap
msgid ""
"If you had an OpenAFS server running, you would have not have been forced to\n"
"shut it down. Now is the time to do that.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:437
#, no-wrap
msgid "Stopping OpenAFS client after upgrade"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:442
#, no-wrap
msgid ""
"As you may want keep the downtime to a minimum, so you can restart\n"
"your OpenAFS server right away.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:446
#, no-wrap
msgid "Restarting OpenAFS server after upgrade"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:447
#, no-wrap
msgid "# <i>/etc/init.d/openafs-server start</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:451
#, no-wrap
msgid "You can check whether it's running properly with the following command:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:454
#, no-wrap
msgid "Checking OpenAFS server status"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:455
#, no-wrap
msgid "# <i>/usr/bin/bos status localhost -localauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:459
#, no-wrap
msgid ""
"Before starting the OpenAFS client again, please take time to check your\n"
"cache settings. They are determined by <path>/etc/openafs/cacheinfo</path>.\n"
"To restart your OpenAFS client installation, please type the following:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:464
#, no-wrap
msgid "Restarting OpenAFS client after upgrade"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:465
#, no-wrap
msgid "# <i>/etc/init.d/openafs-client start</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:471
#, no-wrap
msgid "Cleaning up afterwards"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:475
#, no-wrap
msgid ""
"Before cleaning up, please make really sure that everything runs smoothly and\n"
"that you have restarted after the upgrade (otherwise, you may still be running\n"
"your old installation).\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><impo>
#: en/openafs.xml:481
#, no-wrap
msgid ""
"Please make sure you're not using <path>/usr/vice/cache</path> for disk cache\n"
"if you are deleting <path>/usr/vice</path>!!\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:486
#, no-wrap
msgid "The following directories may be safely removed from the system:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:490
#, no-wrap
msgid "<path>/etc/afs</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:491
#, no-wrap
msgid "<path>/usr/vice</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:492
#, no-wrap
msgid "<path>/usr/afs</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:493
#, no-wrap
msgid "<path>/usr/afsws</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:497
#, no-wrap
msgid "The following files are also unnecessary:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:501
#, no-wrap
msgid "<path>/etc/init.d/afs</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:502
#, no-wrap
msgid "<path>/etc/conf.d/afs</path>"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:505
#, no-wrap
msgid "Removing the old files"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:506
#, no-wrap
msgid ""
"# <i>tar czf /root/oldafs-backup.tgz /etc/afs /usr/vice /usr/afs /usr/afsws</i>\n"
"# <i>rm -R /etc/afs /usr/vice /usr/afs /usr/afsws</i>\n"
"# <i>rm /etc/init.d/afs /etc/conf.d/afs</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:512
#, no-wrap
msgid ""
"In case you've previously used ebuilds =openafs-1.2.13 or =openafs-1.3.85, you\n"
"may also have some other unnecessary files:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:517
#, no-wrap
msgid "<path>/etc/init.d/afs-client</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:518
#, no-wrap
msgid "<path>/etc/init.d/afs-server</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:519
#, no-wrap
msgid "<path>/etc/conf.d/afs-client</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:520
#, no-wrap
msgid "<path>/etc/conf.d/afs-server</path>"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:526
#, no-wrap
msgid "Init Script changes"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:530
#, no-wrap
msgid ""
"Now most people would have their systems configured to automatically start\n"
"the OpenAFS client and server on startup.  Those who don't can safely skip\n"
"this section.  If you had your system configured to start them automatically,\n"
"you will need to re-enable this, because the names of the init scripts have\n"
"changed.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:537
#, no-wrap
msgid "Re-enabling OpenAFS startup at boot time"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:538
#, no-wrap
msgid ""
"# <i>rc-update del afs default</i>\n"
"# <i>rc-update add openafs-client default</i>\n"
"# <i>rc-update add openafs-server default</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:544
#, no-wrap
msgid ""
"If you had <c>=openafs-1.2.13</c> or <c>=openafs-1.3.85</c>, you should remove\n"
"<path>afs-client</path> and <path>afs-server</path> from the default runlevel,\n"
"instead of <path>afs</path>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:552
#, no-wrap
msgid "Troubleshooting: what if the automatic upgrade fails"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:556
#, no-wrap
msgid ""
"Don't panic. You shouldn't have lost any data or configuration files. So let's\n"
"analyze the situation. Please file a bug at <uri\n"
"link=\"http://bugs.gentoo.org\">bugs.gentoo.org</uri> in any case, preferably\n"
"with as much information as possible.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:563
#, no-wrap
msgid ""
"If you're having problems starting the client, this should help you diagnosing\n"
"the problem:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:569
#, no-wrap
msgid ""
"    Run <c>dmesg</c>.  The client normally sends error messages there.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:572
#, no-wrap
msgid ""
"    Check <path>/etc/openafs/cacheinfo</path>.  It should be of the form:\n"
"    /afs:{path to disk cache}:{number of blocks for disk cache}.\n"
"    Normally, your disk cache will be located at\n"
"    <path>/var/cache/openafs</path>.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:578
#, no-wrap
msgid ""
"    Check the output of <c>lsmod</c>.  You will want to see a line beginning\n"
"    with the word openafs.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:581
#, no-wrap
msgid "<c>pgrep afsd</c> will tell you whether afsd is running or not"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:583
#, no-wrap
msgid ""
"    <c>cat /proc/mounts</c> should reveal whether <path>/afs</path> has been\n"
"    mounted.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:589
#, no-wrap
msgid "If you're having problems starting the server, then these hints may be useful:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:594
#, no-wrap
msgid ""
"    <c>pgrep bosserver</c> tells you whether the overseer is running or not. If\n"
"    you have more than one overseer running, then something has gone wrong. In\n"
"    that case, you should try a graceful OpenAFS server shutdown with <c>bos\n"
"    shutdown localhost -localauth -wait</c>, check the result with <c>bos\n"
"    status localhost -localauth</c>, kill all remaining overseer processes and\n"
"    then finally check whether any server processes are still running (<c>ls\n"
"    /usr/libexec/openafs</c> to get a list of them).  Afterwards, do\n"
"    <c>/etc/init.d/openafs-server zap</c> to reset the status of the server and\n"
"    <c>/etc/init.d/openafs-server start</c> to try launching it again.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><ul><li>
#: en/openafs.xml:605
#, no-wrap
msgid ""
"    If you're using OpenAFS' own logging system (which is the default setting),\n"
"    check out <path>/var/lib/openafs/logs/*</path>.  If you're using the syslog\n"
"    service, go check out its logs for any useful information.\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:616
#, no-wrap
msgid "Documentation"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:618
#, no-wrap
msgid "Getting AFS Documentation"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:622
#, no-wrap
msgid ""
"You can get the original IBM AFS Documentation. It is very well written and you\n"
"really want read it if it is up to you to administer a AFS Server.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:626
#, no-wrap
msgid "Installing afsdoc"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:627
#, no-wrap
msgid "# <i>emerge app-doc/afsdoc</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:631
#, no-wrap
msgid ""
"You also have the option of using the documentation delivered with OpenAFS. It\n"
"is installed when you have the USE flag <c>doc</c> enabled while emerging\n"
"OpenAFS. It can be found in <path>/usr/share/doc/openafs-*/</path>. At the time\n"
"of writing, this documentation was a work in progress. It may however document\n"
"newer features in OpenAFS that aren't described in the original IBM AFS\n"
"Documentation.\n"
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:644
#, no-wrap
msgid "Client Installation"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:646
#, no-wrap
msgid "Building the Client"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:649 en/openafs.xml:781
#, no-wrap
msgid "Installing openafs"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:650 en/openafs.xml:782
#, no-wrap
msgid "# <i>emerge net-fs/openafs</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:654
#, no-wrap
msgid "After successful compilation you're ready to go.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:660
#, no-wrap
msgid "A simple global-browsing client installation"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:664
#, no-wrap
msgid ""
"If you're not part of a specific OpenAFS-cell you want to access, and you just\n"
"want to try browsing globally available OpenAFS-shares, then you can just\n"
"install OpenAFS, not touch the configuration at all, and start\n"
"<path>/etc/init.d/openafs-client</path>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:673
#, no-wrap
msgid "Accessing a specific OpenAFS cell"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:677
#, no-wrap
msgid ""
"If you need to access a specific cell, say your university's or company's own\n"
"cell, then some adjustments to your configuration have to be made.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:682
#, no-wrap
msgid ""
"Firstly, you need to update <path>/etc/openafs/CellServDB</path> with the\n"
"database servers for your cell. This information is normally provided by your\n"
"administrator.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:688
#, no-wrap
msgid ""
"Secondly, in order to be able to log onto the OpenAFS cell, you need to specify\n"
"its name in <path>/etc/openafs/ThisCell</path>.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:692
#, no-wrap
msgid "Adjusting CellServDB and ThisCell"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:693
#, no-wrap
msgid ""
"CellServDB:\n"
">netlabs        #Cell name\n"
"10.0.0.1        #storage\n"
"\n"
"ThisCell:\n"
"netlabs\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><warn>
#: en/openafs.xml:702
#, no-wrap
msgid ""
"Only use spaces inside the <path>CellServDB</path> file. The client will most\n"
"likely fail if you use TABs.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:707
#, no-wrap
msgid ""
"CellServDB tells your client which server(s) it needs to contact for a\n"
"specific cell. ThisCell should be quite obvious. Normally you use a name\n"
"which is unique for your organisation. Your (official) domain might be a\n"
"good choice.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:714
#, no-wrap
msgid ""
"For a quick start, you can now start <path>/etc/init.d/openafs-client</path> and\n"
"use <c>klog</c> to authenticate yourself and start using your access to the\n"
"cell. For automatic logons to you cell, you want to consult the appropriate\n"
"section below.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:723
#, no-wrap
msgid "Adjusting the cache"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:727
#, no-wrap
msgid ""
"Unfortunately the AFS Client needs a ext2/3 filesystem for its cache to run\n"
"correctly.  There are some issues when using other filesystems (using e.g.\n"
"reiserfs is not a good idea).\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:733
#, no-wrap
msgid ""
"You can house your cache on an existing filesystem (if it's ext2/3), or you\n"
"may want to have a separate partition for that. The default location of the\n"
"cache is <path>/var/cache/openafs</path>, but you can change that by editing\n"
"<path>/etc/openafs/cacheinfo</path>. A standard size for your cache is\n"
"200MB, but more won't hurt.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:743
#, no-wrap
msgid "Starting AFS on startup"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:747
#, no-wrap
msgid ""
"The following command will create the appropriate links to start your afs\n"
"client on system startup.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><warn>
#: en/openafs.xml:752
#, no-wrap
msgid ""
"You should always have a running afs server in your domain when trying to start\n"
"the afs client. Your system won't boot until it gets some timeout if your AFS\n"
"server is down (and this is quite a long long time.)\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:757
#, no-wrap
msgid "Adding AFS client to the default runlevel"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:758
#, no-wrap
msgid "# <i>rc-update add openafs-client default</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:766
#, no-wrap
msgid "Server Installation"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:768
#, no-wrap
msgid "Building the Server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:772
#, no-wrap
msgid ""
"All commands should be written in one line!! In this document they are\n"
"sometimes wrapped to two lines to make them easier to read.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:777
#, no-wrap
msgid ""
"If you haven't already done so, the following command will install all\n"
"necessary binaries for setting up an AFS Server <e>and</e> Client.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:788
#, no-wrap
msgid "Starting AFS Server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:792
#, no-wrap
msgid ""
"You need to run the <c>bosserver</c> command to initialize the Basic OverSeer\n"
"(BOS) Server, which monitors and controls other AFS server processes on its\n"
"server machine. Think of it as init for the system. Include the <c>-noauth</c>\n"
"flag to disable authorization checking, since you haven't added the admin user\n"
"yet.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><warn>
#: en/openafs.xml:800
#, no-wrap
msgid ""
"Disabling authorization checking gravely compromises cell security.  You must\n"
"complete all subsequent steps in one uninterrupted pass and must not leave\n"
"the machine unattended until you restart the BOS Server with authorization\n"
"checking enabled. Well, this is what the AFS documentation says. :)\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:806
#, no-wrap
msgid "Initialize the Basic OverSeer Server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:807
#, no-wrap
msgid "# <i>bosserver -noauth &amp;</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:811
#, no-wrap
msgid ""
"Verify that the BOS Server created <path>/etc/openafs/server/CellServDB</path>\n"
"and <path>/etc/openafs/server/ThisCell</path>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:815
#, no-wrap
msgid "Check if CellServDB and ThisCell are created"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:816
#, no-wrap
msgid ""
"# <i>ls -al /etc/openafs/server/</i>\n"
"-rw-r--r--    1 root     root           41 Jun  4 22:21 CellServDB\n"
"-rw-r--r--    1 root     root            7 Jun  4 22:21 ThisCell\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:824
#, no-wrap
msgid "Defining Cell Name and Membership for Server Process"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:828
#, no-wrap
msgid "Now assign your cell's name.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><impo>
#: en/openafs.xml:832
#, no-wrap
msgid ""
"There are some restrictions on the name format.  Two of the most important\n"
"restrictions are that the name cannot include uppercase letters or more than\n"
"64 characters. Remember that your cell name will show up under\n"
"<path>/afs</path>, so you might want to choose a short one.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:839
#, no-wrap
msgid ""
"In the following and every instruction in this guide, for the &lt;server\n"
"name&gt; argument substitute the full-qualified hostname (such as\n"
"<b>afs.gentoo.org</b>) of the machine you are installing. For the &lt;cell\n"
"name&gt; argument substitute your cell's complete name (such as\n"
"<b>gentoo</b>)\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:847
#, no-wrap
msgid "Run the <c>bos setcellname</c> command to set the cell name:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:850
#, no-wrap
msgid "Set the cell name"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:851
#, no-wrap
msgid "# <i>bos setcellname &lt;server name&gt; &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:857
#, no-wrap
msgid "Starting the Database Server Process"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:861
#, no-wrap
msgid ""
"Next use the <c>bos create</c> command to create entries for the four database\n"
"server processes in the <path>/etc/openafs/BosConfig</path> file. The four\n"
"processes run on database server machines only.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:868
#, no-wrap
msgid "kaserver"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:870
#, no-wrap
msgid ""
"    The Authentication Server maintains the Authentication Database.\n"
"    This can be replaced by a Kerberos 5 daemon. If anybody wants to try that\n"
"    feel free to update this document :)\n"
"  "
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:876
#, no-wrap
msgid "buserver"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:877
#, no-wrap
msgid "The Backup Server maintains the Backup Database"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:880
#, no-wrap
msgid "ptserver"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:881
#, no-wrap
msgid "The Protection Server maintains the Protection Database"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:884
#, no-wrap
msgid "vlserver"
msgstr ""

#. type: Content of: <guide><chapter><section><body><table><tr><ti>
#: en/openafs.xml:886
#, no-wrap
msgid ""
"    The Volume Location Server maintains the Volume Location Database (VLDB).\n"
"    Very important :)\n"
"  "
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:892
#, no-wrap
msgid "Create entries for the database processes"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:893
#, no-wrap
msgid ""
"# <i>bos create &lt;server name&gt; kaserver \\\n"
"simple /usr/libexec/openafs/kaserver \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
"# <i>bos create &lt;server name&gt; buserver \\\n"
"simple /usr/libexec/openafs/buserver \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
"# <i>bos create &lt;server name&gt; ptserver \\\n"
"simple /usr/libexec/openafs/ptserver \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
"# <i>bos create &lt;server name&gt; \\\n"
"vlserver simple /usr/libexec/openafs/vlserver \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:908
#, no-wrap
msgid "You can verify that all servers are running with the <c>bos status</c> command:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:911
#, no-wrap
msgid "Check if all the servers are running"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:912
#, no-wrap
msgid ""
"# <i>bos status &lt;server name&gt; -noauth</i>\n"
"Instance kaserver, currently running normally.\n"
"Instance buserver, currently running normally.\n"
"Instance ptserver, currently running normally.\n"
"Instance vlserver, currently running normally.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:922
#, no-wrap
msgid "Initializing Cell Security"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:926
#, no-wrap
msgid ""
"Now we'll initialize the cell's security mechanisms. We'll begin by creating\n"
"the following two initial entries in the Authentication Database: The main\n"
"administrative account, called <b>admin</b> by convention and an entry for\n"
"the AFS server processes, called <c>afs</c>. No user logs in under the\n"
"identity <b>afs</b>, but the Authentication Server's Ticket Granting\n"
"Service (TGS) module uses the account to encrypt the server tickets that\n"
"it grants to AFS clients. This sounds pretty much like Kerberos :)\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:936
#, no-wrap
msgid "Enter <c>kas</c> interactive mode\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:939
#, no-wrap
msgid "Entering the interactive mode"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:940
#, no-wrap
msgid ""
"# <i>kas -cell &lt;cell name&gt; -noauth</i>\n"
"ka&gt; <i>create afs</i>\n"
"initial_password:\n"
"Verifying, please re-enter initial_password:\n"
"ka&gt; <i>create admin</i>\n"
"initial_password:\n"
"Verifying, please re-enter initial_password:\n"
"ka&gt; <i>examine afs</i>\n"
"\n"
"User data for afs\n"
"key (0) cksum is 2651715259, last cpw: Mon Jun  4 20:49:30 2001\n"
"password will never expire.\n"
"An unlimited number of unsuccessful authentications is permitted.\n"
"entry never expires.  Max ticket lifetime 100.00 hours.\n"
"last mod on Mon Jun  4 20:49:30 2001 by &lt;none&gt;\n"
"permit password reuse\n"
"ka&gt; <i>setfields admin -flags admin</i>\n"
"ka&gt; <i>examine admin</i>\n"
"\n"
"User data for admin (ADMIN)\n"
"key (0) cksum is 2651715259, last cpw: Mon Jun  4 20:49:59 2001\n"
"password will never expire.\n"
"An unlimited number of unsuccessful authentications is permitted.\n"
"entry never expires.  Max ticket lifetime 25.00 hours.\n"
"last mod on Mon Jun  4 20:51:10 2001 by &lt;none&gt;\n"
"permit password reuse\n"
"ka&gt;\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:970
#, no-wrap
msgid ""
"Run the <c>bos adduser</c> command, to add the <b>admin</b> user to\n"
"the <path>/etc/openafs/server/UserList</path>.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:974
#, no-wrap
msgid "Add the admin user to the UserList"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:975
#, no-wrap
msgid "# <i>bos adduser &lt;server name&gt; admin -cell &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:979
#, no-wrap
msgid ""
"Issue the <c>bos addkey</c> command to define the AFS Server\n"
"encryption key in <path>/etc/openafs/server/KeyFile</path>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:984
#, no-wrap
msgid ""
"If asked for the input key, give the password you entered when creating\n"
"the AFS entry with <c>kas</c>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:988
#, no-wrap
msgid "Entering the password"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:989
#, no-wrap
msgid ""
"# <i>bos addkey  &lt;server name&gt; -kvno 0 -cell &lt;cell name&gt; -noauth</i>\n"
"input key:\n"
"Retype input key:\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:995
#, no-wrap
msgid ""
"Issue the <c>pts createuser</c> command to create a Protection Database entry\n"
"for the admin user.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:1000
#, no-wrap
msgid ""
"By default, the Protection Server assigns AFS UID 1 to the <b>admin</b> user,\n"
"because it is the first user entry you are creating. If the local password file\n"
"(<path>/etc/passwd</path> or equivalent) already has an entry for <b>admin</b>\n"
"that assigns a different UID use the <c>-id</c> argument to create matching\n"
"UIDs.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1007
#, no-wrap
msgid "Create a Protection Database entry for the database user"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1008
#, no-wrap
msgid "# <i>pts createuser -name admin -cell &lt;cell name&gt; [-id &lt;AFS UID&gt;] -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1012
#, no-wrap
msgid ""
"Issue the <c>pts adduser</c> command to make the <b>admin</b> user a member\n"
"of the system:administrators group, and the <c>pts membership</c> command to\n"
"verify the new membership\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1017
#, no-wrap
msgid "Make admin a member of the administrators group and verify"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1018
#, no-wrap
msgid ""
"# <i>pts adduser admin system:administrators -cell &lt;cell name&gt; -noauth</i>\n"
"# <i>pts membership admin -cell &lt;cell name&gt; -noauth</i>\n"
"Groups admin (id: 1) is a member of:\n"
"system:administrators\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1027
#, no-wrap
msgid "Properly (re-)starting the AFS server"
msgstr ""

#
#.  Left out because deemed confusing>
#. Continuing without this step is possible, but in that case a quick restart of
#. the server is required, as demonstrated at the end of this section.
#. <
#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1031
#, no-wrap
msgid ""
"At this moment, proper authentication is possible, and the OpenAFS server can\n"
"be started in a normal fashion. Note that authentication also requires a\n"
"running OpenAFS client (setting it up is described in the previous chapter).\n"
"\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1040
#, no-wrap
msgid "Shutdown bosserver"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1041
#, no-wrap
msgid ""
"# <i>bos shutdown &lt;server name&gt; -wait -noauth</i>\n"
"# <i>killall bosserver</i>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1045
#, no-wrap
msgid "Normal OpenAFS server (and client) startup"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1046
#, no-wrap
msgid ""
"# <i>/etc/init.d/openafs-server start</i>\n"
"# <i>/etc/init.d/openafs-client start</i>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1050
#, no-wrap
msgid "Adding AFS server to the default runlevel"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1051
#, no-wrap
msgid "# <i>rc-update add openafs-server default</i>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1054
#, no-wrap
msgid "Getting a token as the admin user"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1055
#, no-wrap
msgid "# <i>klog admin</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1072
#, no-wrap
msgid "Starting the File Server, Volume Server and Salvager"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1076
#, no-wrap
msgid ""
"Start the <c>fs</c> process, which consists of the File Server, Volume Server\n"
"and Salvager (fileserver, volserver and salvager processes).\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1080
#, no-wrap
msgid "Start the fs process"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1081
#, no-wrap
msgid ""
"# <i>bos create &lt;server name&gt; fs \\\n"
"fs /usr/libexec/openafs/fileserver /usr/libexec/openafs/volserver /usr/libexec/openafs/salvager \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1087
#, no-wrap
msgid "Verify that all processes are running:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1090
#, no-wrap
msgid "Check if all processes are running"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1091
#, no-wrap
msgid ""
"# <i>bos status &lt;server name&gt; -long -noauth</i>\n"
"Instance kaserver, (type is simple) currently running normally.\n"
"Process last started at Mon Jun  4 21:07:17 2001 (2 proc starts)\n"
"Last exit at Mon Jun  4 21:07:17 2001\n"
"Command 1 is '/usr/libexec/openafs/kaserver'\n"
"\n"
"Instance buserver, (type is simple) currently running normally.\n"
"Process last started at Mon Jun  4 21:07:17 2001 (2 proc starts)\n"
"Last exit at Mon Jun  4 21:07:17 2001\n"
"Command 1 is '/usr/libexec/openafs/buserver'\n"
"\n"
"Instance ptserver, (type is simple) currently running normally.\n"
"Process last started at Mon Jun  4 21:07:17 2001 (2 proc starts)\n"
"Last exit at Mon Jun  4 21:07:17 2001\n"
"Command 1 is '/usr/libexec/openafs/ptserver'\n"
"\n"
"Instance vlserver, (type is simple) currently running normally.\n"
"Process last started at Mon Jun  4 21:07:17 2001 (2 proc starts)\n"
"Last exit at Mon Jun  4 21:07:17 2001\n"
"Command 1 is '/usr/libexec/openafs/vlserver'\n"
"\n"
"Instance fs, (type is fs) currently running normally.\n"
"Auxiliary status is: file server running.\n"
"Process last started at Mon Jun  4 21:09:30 2001 (2 proc starts)\n"
"Command 1 is '/usr/libexec/openafs/fileserver'\n"
"Command 2 is '/usr/libexec/openafs/volserver'\n"
"Command 3 is '/usr/libexec/openafs/salvager'\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1121
#, no-wrap
msgid ""
"Your next action depends on whether you have ever run AFS file server machines\n"
"in the cell.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1126
#, no-wrap
msgid ""
"If you are installing the first AFS Server ever in the cell, create the first\n"
"AFS volume, <b>root.afs</b>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:1131
#, no-wrap
msgid ""
"For the partition name argument, substitute the name of one of the machine's\n"
"AFS Server partitions. Any filesystem mounted under a directory called\n"
"<path>/vicepx</path>, where x is in the range of a-z, will be considered and\n"
"used as an AFS Server partition. Any unix filesystem will do (as opposed to the\n"
"client's cache, which can only be ext2/3). Tip: the server checks for each\n"
"<path>/vicepx</path> mount point whether a filesystem is mounted there. If not,\n"
"the server will not attempt to use it. This behaviour can be overridden by\n"
"putting a file named <path>AlwaysAttach</path> in this directory.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1141
#, no-wrap
msgid "Create the root.afs volume"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1142
#, no-wrap
msgid "# <i>vos create &lt;server name&gt; &lt;partition name&gt; root.afs -cell &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1146
#, no-wrap
msgid ""
"If there are existing AFS file server machines and volumes in the cell\n"
"issue the <c>vos sncvldb</c> and <c>vos syncserv</c> commands to synchronize\n"
"the VLDB (Volume Location Database) with the actual state of volumes on the\n"
"local machine. This will copy all necessary data to your new server.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1153
#, no-wrap
msgid ""
"If the command fails with the message \"partition /vicepa does not exist on\n"
"the server\", ensure that the partition is mounted before running OpenAFS\n"
"servers, or mount the directory and restart the processes using\n"
"<c>bos restart &lt;server name&gt; -all -cell &lt;cell\n"
"name&gt; -noauth</c>.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1160
#, no-wrap
msgid "Synchronise the VLDB"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1161
#, no-wrap
msgid ""
"# <i>vos syncvldb &lt;server name&gt; -cell &lt;cell name&gt; -verbose -noauth</i>\n"
"# <i>vos syncserv &lt;server name&gt; -cell &lt;cell name&gt; -verbose -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1168
#, no-wrap
msgid "Starting the Server Portion of the Update Server"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1171
#, no-wrap
msgid "Start the update server"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1172
#, no-wrap
msgid ""
"# <i>bos create &lt;server name&gt; \\\n"
"upserver simple \"/usr/libexec/openafs/upserver \\\n"
"-crypt /etc/openafs/server -clear /usr/libexec/openafs\" \\\n"
"-cell &lt;cell name&gt; -noauth</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1181
#, no-wrap
msgid "Configuring the Top Level of the AFS filespace"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1185
#, no-wrap
msgid ""
"First you need to set some ACLs, so that any user can lookup\n"
"<path>/afs</path>.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:1190
#, no-wrap
msgid ""
"The default OpenAFS client configuration has <b>dynroot</b> enabled.\n"
"This option turns <path>/afs</path> into a virtual directory composed of the\n"
"contents of your <path>/etc/openafs/CellServDB</path> file. As such, the\n"
"following command will not work, because it requires a real AFS directory.\n"
"You can temporarily switch dynroot off by setting <b>ENABLE_DYNROOT</b> to\n"
"<b>no</b> in <path>/etc/conf.d/openafs-client</path>. Don't forget to issue\n"
"a client restart after changing parameters.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1199
#, no-wrap
msgid "Set access control lists"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1200
#, no-wrap
msgid "# <i>fs setacl /afs system:anyuser rl</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1204
#, no-wrap
msgid ""
"Then you need to create the root volume, mount it readonly on\n"
"<path>/afs/&lt;cell name&gt;</path> and read/write on <path>/afs/.&lt;cell\n"
"name&gt;</path>.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1209
#, no-wrap
msgid "Prepare the root volume"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1210
#, no-wrap
msgid ""
"# <i>vos create &lt;server name&gt; &lt;partition name&gt; root.cell</i>\n"
"# <i>fs mkmount /afs/&lt;cell name&gt; root.cell</i>\n"
"# <i>fs setacl /afs/&lt;cell name&gt; system:anyuser rl</i>\n"
"# <i>fs mkmount /afs/.&lt;cell name&gt; root.cell -rw</i>\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1216
#, no-wrap
msgid "Adding volumes underneath"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1217
#, no-wrap
msgid ""
"# <i>vos create &lt;server name&gt; &lt;partition name&gt; &lt;myvolume&gt;</i>\n"
"# <i>fs mkmount /afs/&lt;cell name&gt;/&lt;mymountpoint&gt; &lt;myvolume&gt;</i>\n"
"# <i>fs mkmount /afs/&lt;cell name&gt;/.&lt;mymountpoint&gt; &lt;myvolume&gt; -rw</i>\n"
"# <i>fs setquota /afs/&lt;cell name&gt;/.&lt;mymountpoint&gt; -max &lt;quotum&gt;</i>\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1224
#, no-wrap
msgid ""
"Finally you're done!!! You should now have a working AFS file server\n"
"on your local network. Time to get a big\n"
"cup of coffee and print out the AFS documentation!!!\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><note>
#: en/openafs.xml:1230
#, no-wrap
msgid ""
"It is very important for the AFS server to function properly, that all system\n"
"clocks are synchronized. This is best accomplished by installing a ntp server\n"
"on one machine (e.g. the AFS server) and synchronize all client clocks\n"
"with the ntp client. This can also be done by the AFS client.\n"
msgstr ""

#. type: Content of: <guide><chapter><title>
#: en/openafs.xml:1241
#, no-wrap
msgid "Basic Administration"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1243
#, no-wrap
msgid "Disclaimer"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1247
#, no-wrap
msgid ""
"OpenAFS is an extensive technology. Please read the AFS documentation for more\n"
"information. We only list a few administrative tasks in this chapter.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><title>
#: en/openafs.xml:1254
#, no-wrap
msgid "Configuring PAM to Acquire an AFS Token on Login"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1258
#, no-wrap
msgid ""
"To use AFS you need to authenticate against the KA Server if using\n"
"an implementation AFS Kerberos 4, or against a Kerberos 5 KDC if using\n"
"MIT, Heimdal, or ShiShi Kerberos 5. However in order to login to a\n"
"machine you will also need a user account, this can be local in\n"
"<path>/etc/passwd</path>, NIS, LDAP (OpenLDAP), or a Hesiod database.\n"
"PAM allows Gentoo to tie the authentication against AFS and login to the\n"
"user account.\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1268
#, no-wrap
msgid ""
"You will need to update <path>/etc/pam.d/system-auth</path> which is\n"
"used by the other configurations.  \"use_first_pass\" indicates it will be\n"
"checked first against the user login, and \"ignore_root\" stops the local\n"
"superuser being checked so as to order to allow login if AFS or the network\n"
"fails.\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1275
#, no-wrap
msgid "/etc/pam.d/system-auth"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1276
#, no-wrap
msgid ""
"auth       required     pam_env.so\n"
"auth       sufficient   pam_unix.so likeauth nullok\n"
"auth       sufficient   pam_afs.so.1 use_first_pass ignore_root\n"
"auth       required     pam_deny.so\n"
"\n"
"account    required     pam_unix.so\n"
"\n"
"password   required     pam_cracklib.so retry=3\n"
"password   sufficient   pam_unix.so nullok md5 shadow use_authtok\n"
"password   required     pam_deny.so\n"
"\n"
"session    required     pam_limits.so\n"
"session    required     pam_unix.so\n"
msgstr ""

#. type: Content of: <guide><chapter><section><body><p>
#: en/openafs.xml:1292
#, no-wrap
msgid ""
"In order for <c>sudo</c> to keep the real user's token and to prevent local\n"
"users gaining AFS access change <path>/etc/pam.d/su</path> as follows:\n"
msgstr ""

#. type: Attribute 'caption' of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1296
#, no-wrap
msgid "/etc/pam.d/su"
msgstr ""

#. type: Content of: <guide><chapter><section><body><pre>
#: en/openafs.xml:1297
#, no-wrap
msgid ""
"<comment># Here, users with uid &gt; 100 are considered to belong to AFS and users with\n"
"# uid &lt;= 100 are ignored by pam_afs.</comment>\n"
"auth       sufficient   pam_afs.so.1 ignore_uid 100\n"
"\n"
"auth       sufficient   pam_rootok.so\n"
"\n"
"<comment># If you want to restrict users begin allowed to su even more,\n"
"# create /etc/security/suauth.allow (or to that matter) that is only\n"
"# writable by root, and add users that are allowed to su to that\n"
"# file, one per line.\n"
"#auth       required     pam_listfile.so item=ruser \\\n"
"#       sense=allow onerr=fail file=/etc/security/suauth.allow\n"
"\n"
"# Uncomment this to allow users in the wheel group to su without\n"
"# entering a passwd.\n"
"#auth       sufficient   pam_wheel.so use_uid trust\n"
"\n"
"# Alternatively to above, you can implement a list of users that do\n"
"# not need to supply a passwd with a list.\n"
"#auth       sufficient   pam_listfile.so item=ruser \\\n"
"#       sense=allow onerr=fail file=/etc/security/suauth.nopass\n"
"\n"
"# Comment this to allow any user, even those not in the 'wheel'\n"
"# group to su</comment>\n"
"auth       required     pam_wheel.so use_uid\n"
"\n"
"auth       required     pam_stack.so service=system-auth\n"
"\n"
"account    required     pam_stack.so service=system-auth\n"
"\n"
"password   required     pam_stack.so service=system-auth\n"
"\n"
"session    required     pam_stack.so service=system-auth\n"
"session    optional     pam_xauth.so\n"
"\n"
"<comment># Here we prevent the real user id's token from being dropped</comment>\n"
"session    optional     pam_afs.so.1 no_unlog\n"
msgstr ""
